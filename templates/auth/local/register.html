{% extends "page.html" %}

{% block head %}
<title>Sign up</title>
{% endblock %}

{% block content %}
<div class="flex flex-col mt-8 w-80 mx-auto max-w-[90%] gap-2">
    <h1 class="heading-1">Sign up</h1>
    <form method="POST" action="/register" class="flex flex-col gap-2 card">
        <input name="email" type="email" placeholder="Email.." class="input" required />
        <input id="password" name="password" type="password" placeholder="Password.." minlength="12" class="input"
            required />
        <input id="confirm-password" name="confirm_password" type="password" placeholder="Confirm password.."
            minlength="12" class="input" required />
        <button type="submit" class="button">Sign up</button>
        <span class="text-center">Already have an account? <a class="link" href="/login">Sign in now.</a></span>
    </form>
    {% if let Some(error) = error %}
    <section class="border-2 card bg-danger border-danger-darker">
        {% match error %}
        {% when RegistrationError::InvalidEmail %}
        Invalid email!
        {% when RegistrationError::PasswordTooShort %}
        Password is too short! Please enter at least 12 characters.
        {% when RegistrationError::PasswordsMismatch %}
        Passwords do not match!
        {% when RegistrationError::EmailTaken %}
        The email address provided is already registered!
        {% when RegistrationError::SessionCreationError %}
        Something went wrong, please try again later!
        {% when RegistrationError::Unknown %}
        Something went wrong, please try again later!
        {% endmatch %}
    </section>
    {% endif %}
</div>
{% endblock %}